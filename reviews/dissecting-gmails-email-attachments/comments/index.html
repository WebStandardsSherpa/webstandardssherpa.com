



<!DOCTYPE html>
<html lang="en" id="webstandardssherpa_com">
<head>

	<meta charset="utf-8">
	<meta http-equiv="Content-Language" content="en"/>
	

	<title>Dissecting Gmail&#8217;s Email Attachments - Web Standards Sherpa</title>
	<meta name="robots" content="index,follow,archive" />
	 <link rel="canonical_url" href="../index.html" /> 
	<meta name='description' content='Gmail was one of the first web applications to use drag-and-drop file upload. Nicholas shows you how to add this functionality to your web application using HTML5.' />
	<meta name='DC.description' content='Gmail was one of the first web applications to use drag-and-drop file upload. Nicholas shows you how to add this functionality to your web application using HTML5.' />
	<meta name='keywords' content='Javascript' />
	<meta name='DC.subject' content='Javascript' />

	<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
	<link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" />
	<meta name="DC.title" content="Dissecting Gmail&#8217;s Email Attachments - Web Standards Sherpa" />
	<meta name="DC.creator" content="Nicholas Zakas" />
	<meta name="DC.publisher" content="The Web Standards Project" />
	<meta name="DC.date.created" scheme="DCTERMS.W3CDTF" content="2015-12-07T14:46:58-05:00" />
	<meta name="DC.date.modified" scheme="DCTERMS.W3CDTF" content="1453-05-15T13:00:00-05:00" />
	<meta name="DC.date.valid" scheme="DCTERMS.W3CDTF" content="2015-12-13T16:46:58-05:00" />
	<meta name="DC.type" scheme="DCTERMS.DCMIType" content="Text" />
	<meta name="DC.rights" scheme="DCTERMS.URI" content="(cc) Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License">
	<meta name="Copyright" content="(cc) Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License"/>
	<meta name="DC.format" content="text/html" />
	<meta name="DC.identifier" scheme="DCTERMS.URI" content="http://webstandardssherpa.com/reviews/dissecting-gmails-email-attachments/" />
	<meta name="MSSmartTagsPreventParsing" content="true"/>
	<meta name="Rating" content="General"/>

	<meta property="og:title" content="Dissecting Gmail&#8217;s Email Attachments"/> 
	<meta property="og:type" content="article"/> 
	<meta property="og:url" content="http://webstandardssherpa.com/reviews/dissecting-gmails-email-attachments/"/> 
	<meta property="og:image" content="http://webstandardssherpa.com/i/fb-backpack.png"/> 
	<meta property="og:site_name" content="Web Standards Sherpa"/> 
	<meta property="og:description" content="Gmail was one of the first web applications to use drag-and-drop file upload. Nicholas shows you how to add this functionality to your web application using HTML5."/>
	<meta property="fb:admins" content="100002108202285"/> 
	
	<!-- Twitter -->
	<meta name="twitter:card" value="summary"/>
	<meta name="twitter:site" value="@StandardsSherpa"/>
	<meta name="twitter:creator" value="@slicknet"/>

	

	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<link rel="home" href="../../../index.html"/>
	<link rel="copyright" href="index.html#license"/>
	<link rel="shortcut icon" type="image/png" href="../../../favicon.png"/>
	<link rel="author" type="text/plain" href="../../../humans.txt.html"/>

	<!--[if lte IE 8]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<!--[if (lte IE 8)&(!IEMobile)]>
    <link rel="stylesheet" href="/c/old-ie.css" media="screen">
	<![endif]-->
	<!--[if gt IE 8]><!-->
		<link rel="stylesheet" type="text/css" href="../../../c/main.css" media="screen"/>
	<!--<![endif]-->
	<!--[if IEMobile 7]>
		<link rel="stylesheet" href="/c/main.css" media="screen">
		<link rel="stylesheet" href="/c/windows7-mobile.css" media="screen">
	<![endif]-->
	
	<link rel="alternate" type="application/rss+xml" title="Web Standards Sherpa Reviews (Summary)" href="http://feeds.feedburner.com/Web-Standards-Sherpa-Reviews-Summary"/>
	<link rel="alternate" type="application/rss+xml" title="Web Standards Sherpa Reviews (Full Text)" href="http://feeds.feedburner.com/Web-Standards-Sherpa-Reviews"/>
	<link rel="alternate" type="application/rss+xml" title="Web Standards Sherpa Discussions" href="http://feeds.feedburner.com/Web-Standards-Sherpa-Discussions"/>

	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-176472-9']);
		_gaq.push(['_trackPageview']);
		(function() {
		  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>
	<script type="text/javascript">
		var WRInitTime=(new Date()).getTime();
	</script>
</head>
<body id="review">


	<header role="banner" id="page-header">
		<h4 id="logo"><a href="../../../index.html" title="Return to the homepage">Web Standards Sherpa</a></h4>
	</header>


		<nav id="nav-primary" role="navigation">
		<ul><li id="nav-home"><a href="../../../index.html">Home</a></li><li id="nav-reviews"><mark><a href="../../index.html">Reviews</a></mark></li><li id="nav-ask-the-sherpas"><a href="../../../ask-the-sherpas/index.html">Ask the Sherpas</a></li>		</ul>

		
	</nav>

	

	<div id="content">


		<article class="hentry">
			<header>
				<h1 class="entry-title">Dissecting Gmail&#8217;s Email Attachments</h1>
				<ul class="meta">
	
					<li class="author">by
						<a href="../../../about/authors/nicholas-zakas/index.html">Nicholas Zakas</a>
					</li>
					<li class="issue"><i>Issue </i><abbr title="Number">No.</abbr> 20</li>
					<li class="published"><time datetime="2013-02-12T05:00:06" pubdate="pubdate">12 February 2013</time></li>
					<li class="categories">
						<ul>
	
							<li><a rel="tag" href="../../by-topic/javascript/index.html">Javascript</a></li>
	
						</ul>
					</li>
				</ul>
				
<div id="readspeaker_button1" class="rs_skip rsbtn rs_preserve">
    <a class="rsbtn_play" accesskey="L" title="Listen to this page using ReadSpeaker" href="http://app.na.readspeaker.com/cgi-bin/rsent?customerid=6758&amp;lang=en_us&amp;readid=content&amp;url=http%3A%2F%2Fwebstandardssherpa.com%2Freviews%2Fdissecting-gmails-email-attachments%2Fcomments%2F">
        <span class="rsbtn_left rsimg rspart"><span class="rsbtn_text"><span>Listen</span></span></span>
        <span class="rsbtn_right rsimg rsplay rspart"></span>
    </a>
</div>

			</header>
			
			<div class="entry-content">
				<figure id="figure-20-1"> <img class="jail" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="/r/20-1.png" /><noscript><img src="../../../r/20-1.png" /></noscript> </figure>
<p>The ability to upload a file in a webpage has been possible almost since the beginning of the consumer web era. However, doing so was always limited by the capabilities of the file <code>input</code> control. You know the one, with the ugly &ldquo;Browse&rdquo; button.</p>
<p>Even as the <a href="http://webstandardssherpa.com/__ee_admin/en.wikipedia.org/wiki/Ajax_(programming)">Ajax</a> revolution sparked innovation and creativity in web browsing, it took quite a long time for file uploads to evolve. The increasing desire of consumers to share photos and videos online pushed web technology for better ways to upload files. Today with <span class="caps">HTML</span>5, we finally have the ability to create more usable and natural interfaces for uploading files.</p>
<h2>The Gmail Way</h2>
<p>One of the first major sites to incorporate new technology into the file upload process was <a href="http://mail.google.com">Gmail</a>. Gmail has a long history of incorporating new technology as it becomes available and was the first to attempt a more sane approach to uploading files (<a href="http://www.nczonline.net/blog/2006/01/30/upload-from-a-link/">using a single link</a> instead of the traditional form <code>input</code>). But the Gmail team didn&#8217;t stop there.</p>
<p>Firefox 3.5 introduced the <a href="https://developer.mozilla.org/en-US/docs/DragDrop/Drag_and_Drop">ability to drag files from the desktop directly into the browser</a> for the purpose of uploading them to a server. The Gmail team took advantage of this innovation and created one of the first drag-and-drop email attachment systems on a major consumer site. They implemented this functionality as a <a href="http://www.alistapart.com/articles/understandingprogressiveenhancement/">progressive enhancement</a>, keeping the normal email attachment flow for everyone (including those for whom drag-and-drop <em>was</em> possible). In fact, there was nothing in the interface to indicate that you could drag and drop a file from the desktop.</p>
<figure id="figure-20-2"> <img class="jail" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="/r/20-2.png" /><noscript><img src="../../../r/20-2.png" /></noscript> <figcaption>Default Gmail attachment functionality with a single &ldquo;Attach a file&rdquo; link</figcaption> </figure>
<p>Gmail&#8217;s drag-and-drop file upload works the same way now as it did then: drag a file from your desktop over the compose email form and a drop area appears, allowing you to drop the file on to the email to create an attachment.</p>
<p>Once the file is dropped, it begins to upload immediately and Gmail shows you a progress bar indicating how much of the file has already been uploaded. Today, this functionality is available in many more browsers (Firefox, Chrome, Opera, Safari and Internet Explorer 10) but works fundamentally the same way as it did when only Firefox supported it.</p>
<p>In a manner of speaking, the drag-and-drop file upload functionality in Gmail is hidden: you might not know it&#8217;s there unless someone tells you or you accidentally drag something over the interface. On the other hand, there&#8217;s an argument to be made that drag-and-drop is the way email attachments <em>should</em> work. Most desktop email applications allow you to drag and drop a file on to the email to make an attachment. As web applications get closer to their desktop counterparts, it&#8217;s not entirely unreasonable to assume that people will try the same interactions for the same tasks.</p>
<h2><span class="caps">HTML</span>5 Drag-and-Drop</h2>
<p>The first step to creating a drag-and-drop file upload system similar to Gmail&#8217;s is to capture the file being dragged over the webpage. There are three events that monitor this action:</p>
<ul>
<li><code>dragenter</code> fires as soon as the file is dragged over the webpage or element.</li>
<li><code>dragover</code> fires next, firing repeatedly as the file is moved within the droppable area.</li>
<li><code>dragleave</code> fires when the file is dragged out of the webpage or element.</li>
</ul>
<p>Gmail shows a message as soon as the file is dragged over the webpage, a very useful hint for users. You can accomplish the same thing by listening for these three events on the <code>document</code> and showing or hiding another element by assigning a class value to the <code>body</code> element. For example:</p>
<pre class="javascript"><code>function handleDrag(event) {

  event.preventDefault();

  switch(event.type) {
    case "dragenter":
      document.body.className = "dragging";
      break;

    case "dragover":
      // do anything else you may need
      break;

    case "dragleave":
      document.body.className = "";
      break;
  }
}

document.addEventListener("dragenter", handleDrag, false);
document.addEventListener("dragover", handleDrag, false);
document.addEventListener("dragleave", handleDrag, false);
</code></pre>
<p>Assuming that the <span class="caps">CSS</span> class <code>dragging</code> is used to show a message, this code accomplishes the same behavior as Gmail when a file is first dragged over the webpage.</p>
<p>Note that <code>event.preventDefault()</code> is called for all of the events. This is necessary to subvert browsers&#8217; default behavior of opening a file when it is dropped on to a webpage. Because you are <em>uploading</em> a file, it&#8217;s necessary to cancel this default behavior and provide your own.</p>
<h2>Dropping Files</h2>
<p>Gmail doesn&#8217;t allow you to drop a file just anywhere on the page. It has to be over a specific element: the area where the default &ldquo;Attach a file&rdquo; link appears. Gmail doesn&#8217;t allow you to drop a file onto the primary textbox because textbox controls have their own drag and drop functionality that you don&#8217;t want to interfere with.</p>
<figure id="figure-20-3"> <img class="jail" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="/r/20-3.png" /><noscript><img src="../../../r/20-3.png" /></noscript> <figcaption>Drop area for Gmail attachments, replacing the &ldquo;Attach a file&rdquo; link</figcaption> </figure>
<p>In general, it&#8217;s a good idea to limit the areas on the page where files can be dropped. Specific areas on the page provide context to the action of dropping a file, so you may want to have different behaviors based on where the file is dropped. If you&#8217;re dropping a file on to an email message, for example, it makes sense that you intend to attach that file to the message.</p>
<p>Once you&#8217;re able to detect the file has been dragged over the webpage, the next step is to listen for the file being dropped. That is accomplished by listening for the <code>drop</code> event on the drop target.</p>
<p>Any <span class="caps">HTML</span> element can become a drop target by listening for the <code>drop</code> event and canceling the default behavior. The files that were dropped are contained in <code>event.dataTransfer.files</code>, which is a collection of <code>File</code> objects. The collection is array-like, so you can access files by numeric index and also use the <code>length</code> property to determine how many files were dropped.</p>
<p>Adding this to the previous example, the following code manages the dropping of files over an element with an <span class="caps">ID</span> of <code>droptarget</code>:</p>
<pre class="javascript"><code>function handleDrag(event) {

  event.preventDefault();

  switch(event.type) {
    case "dragenter":
      document.body.className = "dragging";
      break;

    case "dragover":
      // do anything else you may need
      break;

    case "dragleave":
      document.body.className = "";
      break;

    case "drop":
      if (event.target.id == "droptarget") {
        console.log("Dropped %d files", event.dataTransfer.files.length);
      }
      break;
  }
}

document.addEventListener("dragenter", handleDrag, false);
document.addEventListener("dragover", handleDrag, false);
document.addEventListener("dragleave", handleDrag, false);
document.addEventListener("drop", handleDrag, false);
</code></pre>
<p>This code listens for the <code>drop</code> event on the <code>document</code>, but only takes action if the correct drop target is used. In this case, the message is output to the <code>console</code> for debugging purposes (you should remove this in production), but it&#8217;s a very short jump from this to uploading a file.</p>
<h2>Uploading the File</h2>
<p>There are several ways to upload a file via Ajax, but the easiest way is to use a <code>FormData</code> object. These objects represent <span class="caps">HTML</span> form data and can be created dynamically at any point in time. One of the problems with older ways of uploading files was using custom server code to interpret data from the browser. That meant needing to have two different code paths on the server, one for regular form submission and one for Ajax submission. That&#8217;s a significant maintenance cost for any web application.</p>
<p>With <code>FormData</code>, you can send files to the server and make it look like the file was uploaded using a traditional <span class="caps">HTML</span> form. Doing so greatly simplifies your JavaScript code, as well as server code, which typically expects <span class="caps">HTML</span> form submissions. You need only create a <code>FormData</code> object, add the files directly into it, and then pass the object into an <code>XMLHttpRequest</code> object&#8217;s <code>send()</code> method. Here&#8217;s what the code looks like for the example:</p>
<pre class="javascript"><code>function uploadFiles(files) {

  var data = new FormData();

  for (var i=0, len=files.length; i &lt; len; i++) {
    data.append("File" + i, files[i]);
  }

  var xhr = new XMLHttpRequest();
  xhr.open("post", "/files", true);
  xhr.onload = function() {
    switch(this.status) {
      case 200: // request complete and successful
        console.log("Files uploaded"); //debug purposes
        break;
            
      default: // request complete but with unexpected response
        console.log("Files not uploaded"); //debug purposes
     }
  };

  xhr.send(data);

}

function handleDrag(event) {

  event.preventDefault();

  switch(event.type) {
    case "dragenter":
      document.body.className = "dragging";
      break;

    case "dragover":
      // do anything else you may need
      break;

    case "dragleave":
      document.body.className = "";
      break;

    case "drop":
      if (event.target.id == "droptarget") {
        uploadFiles(event.dataTransfer.files);
      }
        break;
  }
}

document.addEventListener("dragenter", handleDrag, false);
document.addEventListener("dragover", handleDrag, false);
document.addEventListener("dragleave", handleDrag, false);
document.addEventListener("drop", handleDrag, false);
</code></pre>
<p>Note that you just need to set the Ajax request to be a <code>POST</code>. Passing the <code>FormData</code> object into <code>send()</code> automatically sets all appropriate headers to ensure that the request is treated as if it were an <span class="caps">HTML</span> form submission. The files are added using <code>append()</code>, providing a name and passing a file as the value (you can always choose to accept just one file as well).</p>
<h2>Monitoring Upload Progress</h2>
<p>The last piece of the Gmail drag-and-drop interface is monitoring upload progress. This can be done using the <code>onprogress</code> event handler. The event object passed into <code>onprogress</code> has two important properties:</p>
<ul>
<li><code>loaded</code>, which indicates the number of bytes that have been sent</li>
<li><code>total</code>, which is the total number of bytes to be sent</li>
</ul>
<p>You can use these two values to come up with a percentage representing the progress of the upload. The <code>onprogress</code> handler is called multiple times as the data is being sent to the server, so you&#8217;re able to update the user interface with appropriate messaging.</p>
<figure id="figure-20-4"> <img class="jail" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="/r/20-4.png" /><noscript><img src="../../../r/20-4.png" /></noscript> <figcaption>Gmail&#8217;s file upload progress bar</figcaption> </figure>
<p>In order to create a progress bar like Gmail&#8217;s, you can use a <code>div</code> or other element whose width represents the progress. For example:</p>
<pre class="html"><code>&lt;div class="progress-container"&gt;
    &lt;div id="progress"&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre>
<pre class="css"><code>
&lt;style&gt;
.progress-container {
    width: 300px;
}

#progress {
    background: navy;
    height: 100%;
    width: 0;
}
&lt;/style&gt;
</code></pre>
<p>The inner <code>div</code> in this example is initially set to a width of 0. As the files are uploaded, its width gradually increases to represent the overall upload progress. The JavaScript for monitoring the upload progress is as follows:</p>
<pre class="javascript"><code>function uploadFiles(files) {

  var data = new FormData();

  for (var i=0, len=files.length; i &lt; len; i++) {
    data.append("File" + i, files[i]);
  }

  var xhr = new XMLHttpRequest();
  xhr.open("post", "/files", true);
  xhr.onload = function() {
    switch(this.status) {
      case 200: // request complete and successful
        console.log("Files uploaded"); //debug purposes
        break;
            
      default: // request complete but with unexpected response
        console.log("Files not uploaded"); //debug purposes
     }
  };

  xhr.onprogress = function(event) {
    var percentage = event.loaded / event.total * 100;

    // update progressbar width
    var element = document.getElementById("progress");
    progress.style.width = percentage + "%";
  };

  xhr.send(data);

}
</code></pre>
<p>This code uses <code>onprogress</code> information to calculate the percentage of data that has been sent to the server. That percentage is then used as the width value of an element, indicating upload progress.</p>
<h2>That&#8217;s It!</h2>
<p>Looking back over the example in this article, you might be surprised to see that the total amount of JavaScript needed to implement a drag-and-drop file upload system similar to Gmail&#8217;s  is remarkably small (less than 60 lines of code). That is all thanks to the <a href="http://www.whatwg.org/specs/web-apps/current-work/multipage/dnd.html#dnd"><span class="caps">HTML</span>5 drag-and-drop <span class="caps">API</span></a> as well as <code>FormData</code> and <code>onprogress</code> for <code>XMLHttpRequest</code>. A complete code listing is available <a href="https://gist.github.com/4692648">in a Gist</a>.</p>
<p>Perhaps the best news about this functionality is that you can implement it in a progressively enhanced way. As with Gmail, you can (and should) provide a regular file <code>input</code>, so that file uploading is possible even without JavaScript. Adding this functionality on top of any web application that requires file uploads makes for happier users and better user experiences.</p>
				
			
				<section id="extra-mile">
					<h1>Going the <span>Extra Mile</span></h1>
				
					
						<ul>
<li>If you allow uploading multiple files, use a separate progress bar for each file. This helps to deal with file-specific issues during&nbsp;upload.</li>
<li>Provide a tooltip over the area where files can be dropped. The tooltip can contain instructions for how to use the drop&nbsp;area.</li>
<li>To allow uploading of multiple files without drag-and-drop, use the <a href="https://developer.mozilla.org/en-US/docs/DOM/Input.multiple">multiple attribute</a> on an <code>input</code>.</li>
<li>Use the <a href="http://stackoverflow.com/questions/181214/file-input-accept-attribute-is-it-useful"><code>accept</code> attribute</a> to specify the types of files a file input control can&nbsp;accept.</li>
</ul>
				</section>
			
				<section id="takeaways">
				<section id="pitfalls" class="takeaway">

					<h1>Pitfalls to Avoid</h1>

					<ul>
<li>Always verify the type of file being uploaded. Users may accidentally try uploading dangerous file types such as&nbsp;executables.</li>
<li>Make sure there’s a native form upload control available as a fallback for users without JavaScript&nbsp;enabled.</li>
<li>Avoid having a different server-side component for uploading via Ajax. Using the same server-side code for both Ajax and regular form submissions decreases maintenance&nbsp;overhead.</li>
</ul>
				</section>
				<section id="todos" class="takeaway">

					<h1>Things to Do</h1>

					<ul>
<li>Use drag-and-drop file upload as a progressive enhancement on top of regular file upload&nbsp;functionality.</li>
<li>Provide a large drop area in an appropriate context for users to drop their&nbsp;files.</li>
<li>Display upload progress as files are being sent to the&nbsp;server.</li>
</ul>
				</section>
				</section>
			


				<section id="further-reading">
					<h1>Further Reading</h1>
					<ul>
	
		
						<li class="article">&#8220;<a href="http://www.html5rocks.com/en/tutorials/dnd/basics/">Native HTML5 Drag and Drop</a>&#8221;, <cite>HTML5 Rocks</cite>, 6 February 2013</li>
	
		
						<li class="article">&#8220;<a href="http://www.html5rocks.com/en/tutorials/file/xhr2/">New tricks in XMLHttpRequest2</a>&#8221;, <cite>HTML5 Rocks</cite>, 6 February 2013</li>
	
					</ul>
				</section>
			</div>
			
		</article>
					<section id="comments" style="display: none">
			<header>
				<h1 class="question">Web forms always seem to be more complicated than necessary. Adding drag-and-drop file upload simplifies the process of uploading files in a web application by using a familiar paradigm. What are the ways you simply web&nbsp;forms?</h1>
			</header>
				
	
<section id="comment">
	<h1>Share Your Thoughts</h1>
			<p>Please <a href="../../../log-in/index.html%3Freturn=%252Freviews%252Fdissecting-gmails-email-attachments%252F.html" style="display: none">Log in</a> or <a href="../../../sign-up/index.html%3Freturn=%252Freviews%252Fdissecting-gmails-email-attachments%252F.html" style="display: none">Sign up</a> to share your thoughts.</p>
		</section>


			</section>
		

		
		
		
	   <ul id="pagination">
	     <li class="prev"><a href="../../art-of-the-quiet-interface/index.html"><em>Previous Entry: </em>Art of the Quiet&nbsp;Interface</a></li>
	     <li class="next"><a href="../../secrets-of-awesome-javascript-api-design/index.html"><em>Next Entry: </em>Secrets of Awesome JavaScript <span class="caps">API</span>&nbsp;Design</a></li>
	   </ul>

		
		<footer class="sidebar" role="complementary">
		
				
		<section id="author" class="sidebar-item vcard byline">
			<h1>Your Sherpa</h1>
	
	
		
		<h2><a class="fn url" href="../../../about/authors/nicholas-zakas/index.html">
			<img class="photo" src="../../../i/a/uploads/avatar_1277.jpg" alt=""/>Nicholas Zakas</a></h2>
		<p>Nicholas <span class="caps">C.</span> Zakas is a front-end consultant, author, and&nbsp;speaker.</p>
		<p class="more"><a href="../../../about/authors/nicholas-zakas/index.html">More about Nicholas</a></p>
	
</section>

			
			
		
			
				

			<section id="share" class="sidebar-item entry-unrelated">

				<h1>Share</h1>

				<p id="twitter"><a href="https://twitter.com/intent/tweet?original_referer=http%3A%2F%2Fwebstandardssherpa.com%2Freviews%2Fdissecting-gmails-email-attachments%2Fcomments%2F&amp;source=tweetbutton&amp;text=Dissecting+Gmail&#8217;s+Email+Attachments+by+@slicknet&amp;url=http%3A%2F%2Fwebstandardssherpa.com%2Freviews%2Fdissecting-gmails-email-attachments%2Fcomments%2F&amp;via=StandardsSherpa%20%23wssherpa%20%23sherpa20&amp;related=WaSP:Web%20Standards" title="Tweet"><img src="/i/button-twitter.png" alt=""/></a> <b class="hashtag"><em>Hashtag:</em> #sherpa20</b></p>
                <p id="facebook"><a href="http://www.facebook.com/sharer.php?u=http%3A%2F%2Fwebstandardssherpa.com%2Freviews%2Fdissecting-gmails-email-attachments%2Fcomments%2F" title="Share on Facebook"><img src="/i/button-facebook.png" alt=""/></a></p>
				<p id="linkedin"><a href="https://www.linkedin.com/cws/share?url=http%3A%2F%2Fwebstandardssherpa.com%2Freviews%2Fdissecting-gmails-email-attachments%2Fcomments%2F&amp;original_referer=http%3A%2F%2Fwebstandardssherpa.com%2Freviews%2Fdissecting-gmails-email-attachments%2Fcomments%2F" title="Share on LinkedIn"><img src="/i/button-linkedin.png" alt=""/></a></p>
				<p id="google_plus"><a href="https://plus.google.com/share?url=http%3A%2F%2Fwebstandardssherpa.com%2Freviews%2Fdissecting-gmails-email-attachments%2Fcomments%2F" title="Share on Google Plus"><img src="/i/button-googleplus.png" alt=""/></a></p>
			</section>
			
			
						<section id="standards-fact" class="sidebar-item entry-unrelated">

				<h1>Standards Fact</h1>


				<p>Google is the largest blind consumer of the web; it doesn&#8217;t &ldquo;see&rdquo; your content, it reads it like an assistive technology would. Accessibility&nbsp;matters.</p>

			</section>

			
	<section id="submit-a-site" class="sidebar-item entry-unrelated">
		<p><a href="../../../submit-a-site/index.html"><img src="../../../i/feed-shirley-222x99.png" alt="Submit a site for Review" /></a></p>
	</section>



		</footer>
	
	  </div>
  		<form style="display: none" id="search-form" method="post" action="../../../index.html"  >
<div class='hiddenFields'>
<input type="hidden" name="ACT" value="6" />
<input type="hidden" name="XID" value="45af4e859f92b57c6183bd83a7be9be3b77f7deb" />
<input type="hidden" name="RES" value="10" />
<input type="hidden" name="meta" value="vJed+IEhaFn3W7jNVVY8C6VK4KKB0doGerxtt+3TXJkJkrK5M3OFhLNfv7UrH+uJhVYy/SM2Y8CEBzxS9ZAY+5Ry234MoWdF0KwpptDKKX/rJJg1NP4Y7SntDPwMKWd0mrV/+nbWgdpLXyGAXHtWDd/W8QMHWePL8qfhqCpJzaK4pU2LxFEhOj26ZDN4P+8d8hXffYqEVMiMRDrkUYAlZAa+r08a/igafmWKpfXqcmFAHWq/qsh+zoaTz9V6wiUJl2MMAdfHTEZ76nZbWvE5NUZpcvtxRexke8gSzhsFUK46dJJ8pJfmOvPccKB8bfwmBU4cgAZ668OleVhPUZRHiYhGfX21C2DodUFydLdhuEPR2Upj1jdw5RfdVF8nWXwA5G5T4DRd4xKMtKvVvr1BpJKZ37Gid+DBZjiqIcAhYCY=" />
<input type="hidden" name="site_id" value="1" />
</div>


		<p role="search">
			<label for="query">Looking for something?</label>
			<input type="search" name="keywords" id="query" value=""/>
			<button type="submit">Search</button>
		</p>
	</form>

    	<nav id="nav-account" style="display: none" role="navigation">
		<ul class="buttons">
	
			<li><a href="../../../sign-up/index.html" style="display: none">Sign up</a></li>
	
	
			<li><a href="../../../log-in/index.html" style="display: none">Log in</a></li>
	
		</ul>
	</nav>
  <footer role="contentinfo" id="page-footer">
	<div id="site-info">
			<div id="elevator-pitch" class="footer-item">

		<p>Web Standards Sherpa&rsquo;s experts provide helpful, pragmatic and up-to-date advice on best practices for web professionals everywhere.</p>
<ul class="more">
<li><a href="../../../about/index.html">More about us</a></li>
<li><a href="../../../contact/index.html" style="display: none">Contact us</a></li>
</ul>

	</div>
			<nav id="nav-complete" role="navigation">
		<section class="participate" style="display: none">
			<h1>Participate</h1>
			<ul>
				<li><a href="../../../submit-a-site/index.html">Submit a site</a></li>
				<li><a href="../../../submit-a-question/index.html">Submit a question</a></li>
				<li><a href="../../../sign-up/index.html" style="display: none">Sign up</a><a href="../../../log-in/index.html" style="display: none">Log in</a></li>
				
			</ul>
		</section>
		<section class="learn">
			<h1>Learn</h1>
			<ul>
				<li><mark><a href="../../index.html">Reviews</a></mark></li>
				<li><a href="../../../ask-the-sherpas/index.html">Ask Sherpas</a></li>
				<li><a href="../../../about/authors/index.html">Authors</a></li>
				<li><a href="../../../glossary/index.html">Glossary</a></li>
				
			</ul>
		</section>
	</nav>

			<section id="sponsors" class="footer-item">

		<h1>We thank our sponsors</h1>

				<ol class="partners">					<li>
											<a href="http://www.microsoft.com"><img src="../../../i/p/microsoft-mono.png" alt="Microsoft"/></a>
										</li>
				
									<li>
											<a href="http://mailchimp.com"><img src="../../../i/p/mc-mono.png" alt="MailChimp"/></a>
										</li>
				
									<li>
											<a href="http://developer.mozilla.org"><img src="../../../i/p/mozilla-mono.png" alt="Mozilla"/></a>
										</li>
				
									<li>
											<a href="http://mediatemple.net"><img src="../../../i/p/mt-mono.png" alt="Media Temple"/></a>
										</li>
				</ol>

	</section>
	</div>
	<div id="terms" class="source-org vcard">
		<p id="ownership"><a xmlns:dct="http://purl.org/dc/terms/" href="../../../index.html" property="dct:title" rel="cc:attributionURL">Web Standards Sherpa</a> is an outreach effort by the <a class="org fn url" xmlns:cc="http://creativecommons.org/ns#" href="http://webstandards.org" property="cc:attributionName">Web Standards Project (WaSP)<img src="../../../i/WaSP-logo-mono.png" alt="" /></a>.</p>
<!--		<p id="network">This site is a proud member of the <a rel="license" href="http://network.smashingmagazine.com/">Smashing Network<img src="/i/p/smashing-mono.png" alt="" /></a>.</p> -->
		<p id="license">The content of this site is licensed under <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons<img src="../../../i/license.png" alt="" /></a>.</p>
	</div>
	
  </footer>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
	<script>window.jQuery || document.write("<script src='../../../j/jquery.js'>\x3C/script>")</script>
	<script src="../../../j/main.js"></script>
	
					<script>(function(e,t){var n=t(jQuery),r=typeof define=="function"&&define.amd;r?define(e,["jquery"],n):(this.jQuery||this.$||this)[e]=n})("jail",function(e){function s(e,n){var r=!1;!n||(r=n.data("triggerElem")),!!r&&typeof r.on=="function"&&(r.on(e.event+"."+e.id,{options:e,images:n},u),t.on("resize."+e.id,{options:e,images:n},u))}function o(e){var t=0;if(e.length===0)return;for(;;){if(t===e.length)break;e[t].getAttribute("data-src")?t++:e.splice(t,1)}}function u(n){var i=n.data.images,u=n.data.options;i.data("poller",setTimeout(function(){r=e.extend({},i),o(r),e(r).each(function(){if(this===window)return;f(u,this,r)});if(a(r)){e(n.currentTarget).unbind(n.type+"."+u.id);return}if(u.event!=="scroll"){var l=/scroll/i.test(u.event)?i.data("triggerElem"):t;u.event="scroll",i.data("triggerElem",l),s(u,e(r))}},u.timeout))}function a(t){var n=!0;return e(t).each(function(){!e(this).attr("data-src")||(n=!1)}),n}function f(n,r,i){var s=e(r),o=/scroll/i.test(n.event)?i.data("triggerElem"):t,u=!0;n.loadHiddenImages||(u=h(s,o,n)&&s.is(":visible")),u&&l(o,s,n.offset)&&c(n,s)}function l(e,t,n){var r=e[0]===window,i=r?{top:0,left:0}:e.offset(),s=i.top+(r?e.scrollTop():0),o=i.left+(r?e.scrollLeft():0),u=o+e.width(),a=s+e.height(),f=t.offset(),l=t.width(),c=t.height();return s-n<=f.top+c&&a+n>=f.top&&o-n<=f.left+l&&u+n>=f.left}function c(t,n){var s=new Image;s.onload=function(){n.hide().attr("src",s.src),n.removeAttr("data-src"),t.effect?(t.speed?n[t.effect](t.speed):n[t.effect](),n.css("opacity",1),n.show()):n.show(),o(r),!t.callbackAfterEachImage||t.callbackAfterEachImage.call(this,n,t),a(r)&&!!t.callback&&!i&&(t.callback.call(e.jail,t),i=!0)},s.src=n.attr("data-src")}function h(n,i,o){var u=n.parent(),a=!0;while(u.length&&u.get(0).nodeName.toUpperCase()!=="BODY"){if(u.css("overflow")==="hidden"){if(!l(u,n,o.offset)){a=!1;break}}else if(u.css("overflow")==="scroll"&&!l(u,n,o.offset)){a=!1,e(r).data("triggerElem",u),o.event="scroll",s(o,e(r));break}if(u.css("visibility")==="hidden"||n.css("visibility")==="hidden"){a=!1;break}if(i!==t&&u===i)break;u=u.parent()}return a}var t=e(window),n={id:"jail",timeout:1,effect:!1,speed:400,triggerElement:null,offset:0,event:"load",callback:null,callbackAfterEachImage:null,placeholder:!1,loadHiddenImages:!1},r=[],i=!1;return e.jail=function(t,r){var i=t||{},s=e.extend({},n,r);e.jail.prototype.init(i,s),/^(load|scroll)/.test(s.event)?e.jail.prototype.later.call(i,s):e.jail.prototype.onEvent.call(i,s)},e.jail.prototype.init=function(n,r){n.data("triggerElem",r.triggerElement?e(r.triggerElement):t),!r.placeholder||n.each(function(){e(this).attr("src",r.placeholder)})},e.jail.prototype.onEvent=function(t){var n=this;t.triggerElement?s(t,n):n.on(t.event+"."+t.id,{options:t,images:n},function(t){var n=e(this),i=t.data.options,s=t.data.images;r=e.extend({},s),c(i,n),e(t.currentTarget).unbind(t.type+"."+i.id)})},e.jail.prototype.later=function(t){var n=this;setTimeout(function(){r=e.extend({},n),n.each(function(){f(t,this,n)}),t.event="scroll",s(t,n)},t.timeout)},e.fn.jail=function(t){return new e.jail(this,t),r=[],this},e.jail});

(function($){$("img.jail").jail({offset:100});}(jQuery));</script>
				
			<script src="../../../j/live-comment-preview.js" type="text/javascript"></script>
		
	

	<!-- Just to see if this works -->
	<!--[if lte IE 6]><script src="/j/ie6.js"></script><![endif]-->


			<script type="text/javascript">
			  var rpxJsHost = (("https:" == document.location.protocol) ? "https://" : "http://static.");
			  document.write(unescape("%3Cscript src='" + rpxJsHost + "rpxnow.com/js/lib/rpx.js' type='text/javascript'%3E%3C/script%3E"));
			</script>

			<script type="text/javascript">
				RPXNOW.overlay = true;
		  		RPXNOW.language_preference = "en";
			  	RPXNOW.init({appId: 'cdnifhbomckchfhfgbpl', xdReceiver: '/rpx_xdcomm.html'});
			</script>

	<div id="ClickTaleDiv" style="display: none;"></div>
	<script type="text/javascript">
		if ( document.location.protocol!='https:' )
		{
			$.getScript('http://s.clicktale.net/WRb6.js',function(){
				if ( typeof ClickTale=='function' )
				{ClickTale(16473,0.1,"www02");}
			});
		}
	</script>
</body>
</html>

