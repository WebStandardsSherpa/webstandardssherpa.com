



<!DOCTYPE html>
<html lang="en" id="webstandardssherpa_com">
<head>

	<meta charset="utf-8">
	<meta http-equiv="Content-Language" content="en"/>
	

	<title>Reflecting on the Revamped Sherpa - Web Standards Sherpa</title>
	<meta name="robots" content="index,follow,archive" />
	 <link rel="canonical_url" href="../index.html" /> 
	<meta name='description' content='Our Publisher Aaron turns the spotlight on the Sherpa site and walks through some of the choices we made for the mobile-first overhaul of this site.' />
	<meta name='DC.description' content='Our Publisher Aaron turns the spotlight on the Sherpa site and walks through some of the choices we made for the mobile-first overhaul of this site.' />
	<meta name='keywords' content='CSS,Design / UX,Javascript,Performance' />
	<meta name='DC.subject' content='CSS,Design / UX,Javascript,Performance' />

	<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
	<link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" />
	<meta name="DC.title" content="Reflecting on the Revamped Sherpa - Web Standards Sherpa" />
	<meta name="DC.creator" content="Aaron Gustafson" />
	<meta name="DC.publisher" content="The Web Standards Project" />
	<meta name="DC.date.created" scheme="DCTERMS.W3CDTF" content="2015-12-07T14:45:11-05:00" />
	<meta name="DC.date.modified" scheme="DCTERMS.W3CDTF" content="1453-05-14T06:00:00-05:00" />
	<meta name="DC.date.valid" scheme="DCTERMS.W3CDTF" content="2015-12-13T16:45:11-05:00" />
	<meta name="DC.type" scheme="DCTERMS.DCMIType" content="Text" />
	<meta name="DC.rights" scheme="DCTERMS.URI" content="(cc) Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License">
	<meta name="Copyright" content="(cc) Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License"/>
	<meta name="DC.format" content="text/html" />
	<meta name="DC.identifier" scheme="DCTERMS.URI" content="http://webstandardssherpa.com/reviews/reflecting-on-the-revamped-sherpa/" />
	<meta name="MSSmartTagsPreventParsing" content="true"/>
	<meta name="Rating" content="General"/>

	<meta property="og:title" content="Reflecting on the Revamped Sherpa"/> 
	<meta property="og:type" content="article"/> 
	<meta property="og:url" content="http://webstandardssherpa.com/reviews/reflecting-on-the-revamped-sherpa/"/> 
	<meta property="og:image" content="http://webstandardssherpa.com/i/fb-backpack.png"/> 
	<meta property="og:site_name" content="Web Standards Sherpa"/> 
	<meta property="og:description" content="Our Publisher Aaron turns the spotlight on the Sherpa site and walks through some of the choices we made for the mobile-first overhaul of this site."/>
	<meta property="fb:admins" content="100002108202285"/> 
	
	<!-- Twitter -->
	<meta name="twitter:card" value="summary"/>
	<meta name="twitter:site" value="@StandardsSherpa"/>
	<meta name="twitter:creator" value="@AaronGustafson"/>

	

	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<link rel="home" href="../../../index.html"/>
	<link rel="copyright" href="index.html#license"/>
	<link rel="shortcut icon" type="image/png" href="../../../favicon.png"/>
	<link rel="author" type="text/plain" href="../../../humans.txt.html"/>

	<!--[if lte IE 8]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<!--[if (lte IE 8)&(!IEMobile)]>
    <link rel="stylesheet" href="/c/old-ie.css" media="screen">
	<![endif]-->
	<!--[if gt IE 8]><!-->
		<link rel="stylesheet" type="text/css" href="../../../c/main.css" media="screen"/>
	<!--<![endif]-->
	<!--[if IEMobile 7]>
		<link rel="stylesheet" href="/c/main.css" media="screen">
		<link rel="stylesheet" href="/c/windows7-mobile.css" media="screen">
	<![endif]-->
	
	<link rel="alternate" type="application/rss+xml" title="Web Standards Sherpa Reviews (Summary)" href="http://feeds.feedburner.com/Web-Standards-Sherpa-Reviews-Summary"/>
	<link rel="alternate" type="application/rss+xml" title="Web Standards Sherpa Reviews (Full Text)" href="http://feeds.feedburner.com/Web-Standards-Sherpa-Reviews"/>
	<link rel="alternate" type="application/rss+xml" title="Web Standards Sherpa Discussions" href="http://feeds.feedburner.com/Web-Standards-Sherpa-Discussions"/>

	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-176472-9']);
		_gaq.push(['_trackPageview']);
		(function() {
		  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>
	<script type="text/javascript">
		var WRInitTime=(new Date()).getTime();
	</script>
</head>
<body id="review">


	<header role="banner" id="page-header">
		<h4 id="logo"><a href="../../../index.html" title="Return to the homepage">Web Standards Sherpa</a></h4>
	</header>


		<nav id="nav-primary" role="navigation">
		<ul><li id="nav-home"><a href="../../../index.html">Home</a></li><li id="nav-reviews"><mark><a href="../../index.html">Reviews</a></mark></li><li id="nav-ask-the-sherpas"><a href="../../../ask-the-sherpas/index.html">Ask the Sherpas</a></li>		</ul>

		
	</nav>

	

	<div id="content">


		<article class="hentry">
			<header>
				<h1 class="entry-title">Reflecting on the Revamped Sherpa</h1>
				<ul class="meta">
	
					<li class="author">by
						<a href="../../../about/authors/aaron-gustafson/index.html">Aaron Gustafson</a>
					</li>
					<li class="issue"><i>Issue </i><abbr title="Number">No.</abbr> 34</li>
					<li class="published"><time datetime="2014-10-28T06:00:00" pubdate="pubdate">28 October 2014</time></li>
					<li class="categories">
						<ul>
	
							<li><a rel="tag" href="../../by-topic/css/index.html">CSS</a></li>
	
							<li><a rel="tag" href="../../by-topic/design/index.html">Design / UX</a></li>
	
							<li><a rel="tag" href="../../by-topic/javascript/index.html">Javascript</a></li>
	
							<li><a rel="tag" href="../../by-topic/performance/index.html">Performance</a></li>
	
						</ul>
					</li>
				</ul>
				
<div id="readspeaker_button1" class="rs_skip rsbtn rs_preserve">
    <a class="rsbtn_play" accesskey="L" title="Listen to this page using ReadSpeaker" href="http://app.na.readspeaker.com/cgi-bin/rsent?customerid=6758&amp;lang=en_us&amp;readid=content&amp;url=http%3A%2F%2Fwebstandardssherpa.com%2Freviews%2Freflecting-on-the-revamped-sherpa%2Fcomments%2F">
        <span class="rsbtn_left rsimg rspart"><span class="rsbtn_text"><span>Listen</span></span></span>
        <span class="rsbtn_right rsimg rsplay rspart"></span>
    </a>
</div>

			</header>
			
			<div class="entry-content">
				<figure id="figure-34-1"> <img class="jail" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="/r/34-1.png" /><noscript><img src="../../../r/34-1.png" /></noscript> </figure>
<p>Every now and then, it&#8217;s good to take a critical eye to the work you&#8217;ve done and look for ways to improve it, so this review is going to turn the microscope around and focus on the Web Standards Sherpa site. It&#8217;s a tough thing to make time for on a largely volunteer project when your team is pretty much flat-out on client work, but we carved out some time in the first few months of this year to revisit this site and make some changes that would help our content go further.</p>
<h2 id="best-practices-change">Best Practices Change</h2>
<p><a href="http://www.webstandards.org/2011/03/13/the-sherpas-are-here/">We launched Web Standards Sherpa</a> on March 13, 2011. At the time, <span class="caps">CSS</span> Media Queries were relatively new and, though we put a lot of thought into how we <em>could</em> use them, we hadn&#8217;t really put much collective thought into how we <em>should</em> use them.</p>
<p>As such, our approach for this project ended up tracking Ethan Marcotte&#8217;s concept of <a href="http://alistapart.com/article/responsive-web-design/">Responsive Web Design</a> (<span class="caps">RWD</span>) &mdash; fluid grids, flexible media, and media queries &mdash; but it did so from a &rdquo;desktop-first&ldquo; perspective, using primarily max-width-based media queries:</p>
<pre class="css"><code>@media screen {
    /* Desktop Rule Sets (universal) */
}
@media screen and (max-device-width:480px) { 
      /* Small Screen Rule Sets */
}
@media screen and (min-device-width:481px) and (max-device-width:1024px) {
    /* The Squishy Middle Rule Sets */
}</code></pre>
<p>At the time, it just made sense to take that approach: We had been designing, prototyping, and building the site for several months before media queries even became a viable option, and we had no interest in maintaining a separate mobile site. So we added <span class="caps">RWD</span> into the project in the final month and made it work.</p>
<p>The result was decent. If you used it on mobile, the site worked, but it was clear that the mobile experience was an afterthought. You could use the site in all the then state-of-the-art mobile browsers &mdash; Safari, Android, Dolphin, Opera Mini, and Opera Mobile &mdash; but interactions were more than a little clunky.</p>
<figure id="figure-34-2"> <img class="jail" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="/r/34-2.png" /><noscript><img src="../../../r/34-2.png" /></noscript> <figcaption>A screenshot comparison of how the old site looked in the current Opera Mini incarnation (left) versus how the current site looks (right). Obviously, the new site is far more usable. Part of the reason the old version didn&#8217;t age well was the shift from use of the &ldquo;viewport&rdquo; meta tag to <span class="caps">CSS</span>-based rules around how browsers should determine width for media queries.</figcaption> </figure>
<p>Fast-forward two years and the mobile experience was falling apart. Browsers had gotten a little more savvy &mdash; or picky, depending on how you look at it &mdash; in how they were handling media queries and viewport-sizing instructions, and Web Standards Sherpa just looked haggard. It needed a makeover.</p>
<h2 id="from-mobile-friendly-to-mobile-first-">From &#8220;Mobile Friendly&#8221; to &#8220;Mobile First<span class="final quote">&#8221;</span></h2>
<p>Design-wise, the site is still pretty amazing: Dan Cederholm crafted a timeless look and feel for the site and Steph Troeth&#8217;s and Kelly McCarthy&#8217;s information architecture was still quite solid. All we needed to do was make mobile a first-rate experience from a styling and interaction perspective.</p>
<p>I wrote on the Easy Designs Blog about <a href="http://blog.easy-designs.net/archives/from-mobile-friendly-to-mobile-first">making the switch from a &ldquo;mobile-friendly,&rdquo; desktop-first site to a &ldquo;mobile first&rdquo; one</a>. In it, I discussed how looking at a site from the mobile perspective first is a great way to integrate <a href="http://en.wikipedia.org/wiki/Progressive_enhancement">progressive enhancement</a>:</p>
<blockquote>
<p><span class="initial quote">&ldquo;</span>[Y]ou optimize your site for use in a mobile context, and then layer on extra styles, JavaScript and content as you find you have more real estate to work with or a more capable device.<span class="final quote">&rdquo;</span></p>
</blockquote>
<p>In practice, that lead to quite a few changes:</p>
<h3 id="we-swapped-pixels-for-ems">We Swapped Pixels for Ems</h3>
<p>We adjusted our media queries to use <a href="http://en.wikipedia.org/wiki/Em_(typography">em units</a>) instead of pixels to provide the most appropriate reading experience based on the user&#8217;s font-size preference. That means if my aunt has her font size increased to 2x, but is on a larger screen, she will get a more linear layout more akin to a tablet view at 1x.</p>
<h3 id="min-width-instead-of-max-width">Min-width Instead of Max-width</h3>
<p>We migrated most of our media queries to reference <code>min-width</code> rather than <code>max-width</code> so that they would start with the smallest screen first and build up from there:</p>
<pre class="css"><code>/* Mobile-first Base Rule Sets */

@media only screen and (min-width:20em) {
    /* 20em and up media query-aware browsers */
}

@media only screen and (min-width:30em) {
    /* 30em and up media query-aware browsers */
}

/* And so on&hellip; */</code></pre>
<p>We did not throw out a lot of the original <span class="caps">CSS</span>, but instead broke it apart and moved rule sets (or parts of them) into the new queries as appropriate. That saved us a lot of time.</p>
<h3 id="we-have-lots-of-breakpoints-now">We Have Lots of Breakpoints Now</h3>
<p>Whereas the original site only had three breakpoints, the current incarnation has a whopping nine. Some follow somewhat typical conventions (20em, 30em, 48em), but others are pretty site-specific (34.375em, 42.5em, 51.25em, 61.25em). The reason for the change is pretty simple: we wanted to provide a solid reading experience across the board. We tweak the design a fair bit in the squishy middle between small screens and large ones.</p>
<figure id="figure-34-3"> <img class="jail" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="/r/34-3.jpg" /><noscript><img src="../../../r/34-3.jpg" /></noscript> <figcaption>An &ldquo;onionskin&rdquo; representation of the nine breakpoints employed on the refresh of Web Standards Sherpa.</figcaption> </figure>
<h3 id="we-are-more-touch-friendly-now">We are More Touch Friendly Now</h3>
<p>Dan&#8217;s original design had some pretty chunky buttons, so they were quite easy to tap with your finger. Links, however, not so much. We needed to increase the tappable size of the links and the spacing around many of the navigational links to improve tap accuracy. In particular, the links in the footer are quite small and narrowly spaced on desktop. We corrected that on smaller screens where tapping is the more likely interaction model.</p>
<figure id="figure-34-4"> <img class="jail" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="/r/34-4.jpg" /><noscript><img src="../../../r/34-4.jpg" /></noscript> <figcaption>A close-up look at how we enlarged our links to make them larger and more touch-friendly on smaller screens. On the left is the large-screen view, on the right is the small-screen view.</figcaption> </figure>
<h3 id="we-put-css-and-javascript-on-the-same-page">We Put <span class="caps">CSS</span> and JavaScript on the Same Page</h3>
<p>A major headache in most responsive designs is getting <span class="caps">CSS</span> and JavaScript to work together. It&#8217;s easy to swap styles using media queries, but adjusting JavaScript-based functionality is a little more complicated.</p>
<p>Sure, you could use <a href="http://docs.webplatform.org/wiki/css/media_queries/apis/matchMedia"><code>matchMedia</code></a> to determine if certain conditions are met before generating or destroying a given JavaScript-based user interface. However, doing that requires that you duplicate your media queries in your JavaScript code, and keep them updated along with any <span class="caps">CSS</span> changes you make. To avoid that potential maintenance headache we chose a different solution.</p>
<p>Back in 2012, I had written a little JavaScript called <a href="https://gist.github.com/aarongustafson/4157402"><code>watchResize</code></a> to track the browser window dimensions (and changes to them) to simplify the authoring of screen-size dependent JavaScript. A few months later, taking a cue from <a href="http://adactio.com/journal/5429/">Jeremy Keith&#8217;s post about using clever <span class="caps">CSS</span> to inform JavaScript of breakpoints</a>, I built a little jQuery-based helper called <code>getActiveMQ</code> to generate a hidden <code>div</code> and then track the <code>font-family</code> <span class="caps">CSS</span> property that was set on it. That meant that on the <span class="caps">CSS</span> end, all we needed to do was assign each breakpoint a name:</p>
<pre class="css"><code>#getActiveMQ-watcher {
      font-family: &amp;quot;break-0&amp;quot;;
}
@media only screen and (min-width: 20em) {
      #getActiveMQ-watcher {
            font-family: "break-1";
    }
}
/* And so on&hellip; */</code></pre>
<p>And we could get the currently applied value back via JavaScript:</p>
<pre class="js"><code>var current_mq = window.getActiveMQ(); // break-X</code></pre>
<p>Combining <code>watchResize</code> with <code>getActiveMQ</code>, it became simple to track the current media query in a global variable that any JavaScript in the site could reference:</p>
<pre class="js"><code>// Create a global Sherpa JS Object
if ( !( 'WSS' in window ) ) { window.WSS = {}; }

// capture the current breakpoint to WSS.screen_size
window.watchResize(function(){
    window.WSS.screen_size = window.getActiveMQ();
});

// Use that value in a lazy-loading images script
window.watchResize(function(){

    var $img = $( '<img class="jail" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="" alt=""/><noscript><img src="index.html" alt=""/></noscript>' ),
        $els = $( '[data-image]:not([data-imaged])' ),
        curr_break = window.WSS.screen_size.replace( 'break-', '' );

    // loop through all elements with a data-image attr
    $els.each(function(){

        var $el = $(this),
            // do they have a min-breakpoint set?
            // if not, use break-4
            bp = $el.data('image-min-breakpoint') || 'break-4';

        bp = bp.replace( 'break-', '' );

        // if the current breakpoint is &gt;= the one
        // we are testing for, lazy-load the image
        if ( curr_break &gt;= bp )
        {
            $img.clone()
                .attr( 'src', $el.data('image') )
                .prependTo(
                    $el.attr( 'data-imaged', '' )
                 );
        }

    });

});</code></pre>
<p>Done and done.</p>
<h2 id="getting-serious-about-performance">Getting Serious About Performance</h2>
<p>With our styles working a bit better and our JavaScripts able to follow <span class="caps">CSS</span>&#8217; lead on the breakpoints, we focused our attention on download speeds.</p>
<p>As I&#8217;m sure you can guess, most of our page weight comes from image content. We optimize every image on the site before it even get onto the server, but each one adds up. We didn&#8217;t want to sacrifice the rich visual design of the site or the helpful screenshots in the articles, so we looked for other ways to speed things up.</p>
<h3 id="we-migrated-to-sass">We Migrated to <span class="caps">SASS</span></h3>
<p>In the years since we built this site, our team has moved over to using <a href="http://sass-lang.com/"><span class="caps">SASS</span></a> to speed up our <span class="caps">CSS</span> authoring. On smaller, less complicated sites like Sherpa, we&#8217;ve found <a href="http://jakearchibald.github.io/sass-ie/">Jake Archibald&#8217;s <code>respond-min</code>/<code>respond-max</code> mixin set</a> quite useful.</p>
<p>Jake&#8217;s mixin allows us to identify media query blocks but also gives us the ability to strip the rules out of the media queries for older browser that don&#8217;t understand media queries (like <span class="caps">IE</span> 8 and below). We combined those mixins with a set of variables that defined our breakpoints to ensure consistency across our <span class="caps">CSS.</span> Here&#8217;s a sample of what that looks like:</p>
<pre class="css"><code>$break-1: 20em;
$break-2: 30em;
/* And so on&hellip; */

#getActiveMQ-watcher {

    font-family: "break-0";

    @include respond-min($break-1) {
        font-family: "break-1";
    }

    @include respond-min($break-2) {
        font-family: "break-2";
    }

    /* And so on&hellip; */

}</code></pre>
<p>We were using a similar technique for concatenating JavaScript files via the <span class="caps">CMS</span>, so we opted to abandon that as well. With the move to <span class="caps">SASS</span>, we&#8217;d become pretty familiar with running build commands via the command line, so we decided to use <a href="https://github.com/mishoo/UglifyJS2/">Uglify</a> to perform the concatenation and minification. And we employed <a href="http://gruntjs.com/">Grunt</a> to orchestrate all of that and to bring our other build step &mdash; image optimization &mdash; under one roof.</p>
<h3 id="we-moved-our-css-and-javascript-into-the-cdn">We Moved our <span class="caps">CSS</span> and JavaScript into the <span class="caps">CDN</span></h3>
<p>With actual static <span class="caps">CSS</span> and JavaScript files, we finally had the opportunity to move these files into the <span class="caps">CDN</span> (which we were already using for article images). That meant users around the globe would get these files faster.</p>
<p>If you are not familiar with CDNs, they are a great way to skirt <a href="http://www.stevesouders.com/blog/2008/03/20/roundup-on-parallel-connections/">browser limits on parallel connections</a>.</p>
<h3 id="we-got-lazier">We Got Lazier</h3>
<p>In the original version of the site, we were using a technique called <a href="http://en.wikipedia.org/wiki/Lazy_loading"><span class="initial quote">&ldquo;</span>lazy loading<span class="final quote">&rdquo;</span></a> to inject the markup for the homepage carousel only when the user was using a large screen and had JavaScript support. We opted to take that route because, while we wanted the carousel to enable a user to move backward and forward in time to see every article, we didn&#8217;t think the carousel would provide a good experience on small screens, we knew loading all of that content would not be very bandwidth-friendly, and we also knew that without JavaScript the carousel would not actually work.</p>
<p>In the interest of being more bandwidth friendly throughout the site, we opted to use lazy loading for more pieces of content.</p>
<p>We rolled article comments, which were once in their own section of the site, into the article pages themselves to provide a more integrated experience. As supplementary content, though, they were a great candidate for lazy loading. We did want to keep the comments available to non-Javascript users too though, so we used a slightly customized version of <a href="https://gist.github.com/scottjehl/d0e4918cf5e97edf99f3">Scott Jehl&#8217;s anchor-include pattern</a> to turn a direct link to an actual, separate comments page into a trigger for loading the comments asynchronously:</p>
<pre class="html"><code>&lt;a href="/reviews/curing-the-jetblues/comments/#comments"
    data-include-on-tap
    data-replace="/comments/curing-the-jetblues/"
    data-include-size="5"&gt;View comments on 
    this entry and add your own&lt;/a&gt;</code></pre>
<p>The <code>data-*</code> attribute-based instructions here tell JavaScript to replace this link with the <span class="caps">HTML</span> retrieved from /comments/curing-the-jetblues/ if the breakpoint is &ldquo;5&rdquo; or larger <em>or</em> if the user is on a smaller screen and taps on the link.</p>
<p>We chose a slightly different tactic for managing images. Since article images are fairly useful for illustrating points made in the prose, we felt they were first-rate content important enough to have available to users even if JavaScript was not available. For that reason, we chose to implement Sebastiano Armeli&#8217;s <a href="http://sebarmeli.github.io/JAIL/">jQuery Asynchronous Image Loader (<span class="caps">JAIL</span>)</a>.</p>
<p>The <span class="caps">JAIL</span> markup pattern is pretty simple:</p>
<pre class="html"><code>&lt;img class="jail"
    src="data:image/gif;base64&hellip;"
    data-src="/r/5-3.png" alt=""/&gt;
&lt;noscript&gt;&lt;img src="/r/5-3.png" alt=""/&gt;&lt;/noscript&gt;</code></pre>
<p>The markup includes the data <span class="caps">URI</span> version of a 1x1 alpha-transparent <span class="caps">GIF</span> with a <code>data-*</code> attribute indicating the location of the real image. JavaScript will load that image asynchronously when they user scrolls to within a certain (configurable) distance of it in the flow of the document. This means you don&#8217;t actually download an image unless we&#8217;re pretty sure you&#8217;re going to see it.</p>
<p>The <code>noscript</code> is there to provide a non-JavaScript alternative.</p>
<h3 id="we-removed-the-share-widgets">We Removed the Share Widgets</h3>
<p>Well, that&#8217;s not totally accurate. We didn&#8217;t remove links to share our content on your favorite social and professional networks, but we did jettison the JavaScript code provided by these networks and went with good old fashioned links instead. We did so for a two primary reasons:</p>
<ol>
<li>Using third party widgets allows those third parties to track your users and regardless of whether they admit to doing anything with the knowledge that you are viewing our content, we don&#8217;t like the fact that they could.</li>
<li>Even though CDNs deliver these widgets, they are an additional resource to download and, moreover, an additional JavaScript to execute. Numerous sites have seen <a href="http://www.websiteoptimization.com/speed/tweak/localize-external-resources/">third party widgets drastically slow page rendering</a> and we wouldn&#8217;t want that.</li>
</ol>
<h3 id="the-numbers">The Numbers</h3>
<p>You&#8217;re probably wondering the overall impact of these changes. <a href="index.html#figure-34-5">The table below has the details</a>, but the changes generally dropped the page size by a third or more.</p>
<figure id="figure-34-5"> 
<table>
<caption>A Comparison of Page Weights on WebStandardsSherpa.com Before the Overhaul and After</caption> <thead> 
<tr>
<th scope="col">Page</th><th scope="col">Screen Size</th><th scope="col">JavaScript?</th><th scope="col">Original Size</th><th scope="col">New Size</th><th scope="col">Savings</th>
</tr>
</thead> 
<tbody>
<tr class="rowspan">
<th rowspan="4" scope="row">Homepage</th>
<td rowspan="2">Small</td>
<td>No</td>
<td>313 kb</td>
<td>181 kb</td>
<td>42%</td>
</tr>
<tr class="rowspaned">
<td>Yes</td>
<td>376 kb</td>
<td>259 kb</td>
<td>31%</td>
</tr>
<tr class="rowspaned">
<td rowspan="2">Large</td>
<td>No</td>
<td>313 kb</td>
<td>189 kb</td>
<td>40%</td>
</tr>
<tr class="rowspaned">
<td>Yes</td>
<td>810 kb</td>
<td>470 kb</td>
<td>41%</td>
</tr>
<tr class="rowspan">
<th rowspan="4" scope="row">Curing the Jet Blues</th>
<td rowspan="2">Small</td>
<td>No</td>
<td>532 kb</td>
<td>258 kb</td>
<td>52%</td>
</tr>
<tr class="rowspaned">
<td>Yes</td>
<td>720 kb</td>
<td>515 kb</td>
<td>28%</td>
</tr>
<tr class="rowspaned">
<td rowspan="2">Large</td>
<td>No</td>
<td>532 kb</td>
<td>189 kb</td>
<td>50%</td>
</tr>
<tr class="rowspaned">
<td>Yes</td>
<td>756 kb</td>
<td>263 kb</td>
<td>28%</td>
</tr>
</tbody>
</table>
</figure>
<p>And then there&#8217;s the added benefits of fewer asset requests overall and better use of the <span class="caps">CDN</span> and caching. So in addition to better serving mobile users from a visual design standpoint, we are also improving things when it comes to experience design. And we&#8217;re making it cheaper to read our content for those of you on a metered internet connection.</p>
<p><em>Author&#8217;s Note: Credit where credit is due, Jeff Bridgforth implemented the vast majority of these changes. Thanks for all your hard work Jeff!</em></p>
				
			
				<section id="extra-mile">
					<h1>Going the <span>Extra Mile</span></h1>
				
					
						<p>As with any project, there&rsquo;s always more ways to improve the experience. We can (and probably should) do more to decrease our overall page weight through use of sprites and <span class="caps">SVG.</span> Additionally, I&rsquo;m sure there is more content we could inject asynchronously. And, on the server side, we could be far more aggressive with caching to improve the speed of server&nbsp;responses.</p>
<p>The truth is that no matter how good you get at optimizing performance, there&rsquo;s always more you can&nbsp;do.</p>
				</section>
			
				<section id="takeaways">
				<section id="pitfalls" class="takeaway">

					<h1>Pitfalls to Avoid</h1>

					<ul>
<li>Don’t wait until the end of a project to consider the experience of users on small screens and devices on mobile&nbsp;networks.</li>
<li>Don’t structure your media queries desktop-first. If you go mobile-first, you can greatly reduce the download for small screen devices since most browsers will not download any background images that reside in media queries they aren’t&nbsp;applying</li>
<li>Don’t use <code>display: none</code> to hide images on small screens; they will still load the images, the user just won’t be able to see&nbsp;them.</li>
<li>If you’re using multiple style sheets or JavaScript files, consider concatenating the crucial bits into single files and then lazy-load the&nbsp;rest.</li>
</ul>
				</section>
				<section id="todos" class="takeaway">

					<h1>Things to Do</h1>

					<ul>
<li>Follow the philosophy of progressive enhancement: star with a solid, universally usable experience and layer on usability and design improvements for larger screens and more capable&nbsp;devices.</li>
<li>Use lazy loading to asynchronously inject any supplementary content (including&nbsp;images).</li>
<li>Minify&nbsp;everything!</li>
<li>Banish 3rd party widget&nbsp;code.</li>
</ul>
				</section>
				</section>
			


				<section id="further-reading">
					<h1>Further Reading</h1>
					<ul>
	
		
						<li class="blog">&#8220;<a href="http://blog.easy-designs.net/archives/from-mobile-friendly-to-mobile-first">From “Mobile Friendly” to “Mobile First”</a>&#8221;, Easy Designs, 12 October 2011</li>
	
		
						<li class="blog">&#8220;<a href="http://www.nczonline.net/blog/2011/11/29/how-content-delivery-networks-cdns-work/">How content delivery networks (CDNs) work</a>&#8221;, Nicholas Zakas, 29 November 2011</li>
	
		
						<li class="blog">&#8220;<a href="http://www.stevesouders.com/blog/2008/03/20/roundup-on-parallel-connections/">Roundup on Parallel Connections</a>&#8221;, Steve Souders, 20 March 2008</li>
	
		
						<li class="blog">&#8220;<a href="http://adactio.com/journal/5429/">Conditional CSS</a>&#8221;, Jeremy Keith, 27 May 2012</li>
	
		
						<li class="blog">&#8220;<a href="http://blog.easy-designs.net/archives/dont-sell-out-your-users/">Don’t Sell Out Your Users</a>&#8221;, Easy Designs, 24 May 2012</li>
	
		
						<li class="article">&#8220;<a href="http://www.smashingmagazine.com/2014/09/08/improving-smashing-magazine-performance-case-study/">Improving Smashing Magazine’s Performance: A Case Study</a>&#8221;, <cite>Smashing Magazine</cite>, 8 September 2014</li>
	
		
						<li class="blog">&#8220;<a href="http://filamentgroup.com/lab/performance-rwd.html">How we make RWD sites load fast as heck</a>&#8221;, Filament Group, 30 July 2014</li>
	
					</ul>
				</section>
			</div>
			
		</article>
					<section id="comments" style="display: none">
			<header>
				<h1 class="question">What mistakes have you made in support of mobile? What have you learned from&nbsp;them?</h1>
			</header>
				
		<div id="comments-listing">
		<h1>Discussion</h1>
		<ul class="meta">
			<li class="thoughts">
			 			 	Thoughts posted: 3</li>
			 			 <li class="buttons"><a href="index.html#comment">Tell us</a></li>
		</ul>
		




	<ol class="hfeed comments">			<li id="comment-248" class="hentry">
			<p class="meta">
				<a rel="bookmark" href="../comments.1.html#comment-248"><time class="published" datetime="2014-10-31T20:52:12" pudate="pubdate">1 year ago</time></a>, 
				<span class="author vcard"><b class="fn">grantpalin</b><img class="photo" src="http://www.gravatar.com/avatar/b5389afca9d504fd42d593472ab2cbc8?s=48&d=/i/a/default_set/shirley.png" alt=""/></span>&nbsp;said:</p>
				<blockquote class="entry-content">
				
					<p>We&#8217;ve come a long way. The web was a fluid medium originally. We just designed fixed-size containers within a fluid environment. When Ethan brought us responsive design, those containers were styled to better fir on smaller screen, yet were still based on large screens. Then we got mobile-first, which encourages us to design for small screen, then scale up. So we&#8217;re kind of back to where we started, in a fluid environment with some breakpoints thrown&nbsp;in.</p>

<p>This reflects my personal journey. I worked on a site recently where I implemented the design to follow <abbr title="Responsive Web Design"><span class="caps">RWD</span></abbr> and <abbr title="Mobile First"><span class="caps">MF</span></abbr>. My current site design is entirely fixed width, but it originates to before <abbr title="Responsive Web Design"><span class="caps">RWD</span></abbr> was a thing. I&#8217;m working on plans for a new design, which will follow the <abbr title="Responsive Web Design"><span class="caps">RWD</span></abbr> and <abbr title="Mobile First"><span class="caps">MF</span></abbr>&nbsp;principles.</p>
				</blockquote>
		</li>
	

				<li id="comment-249" class="hentry">
			<p class="meta">
				<a rel="bookmark" href="../comments.1.html#comment-249"><time class="published" datetime="2014-10-31T20:55:13" pudate="pubdate">1 year ago</time></a>, 
				<span class="author vcard"><b class="fn">grantpalin</b><img class="photo" src="http://www.gravatar.com/avatar/b5389afca9d504fd42d593472ab2cbc8?s=48&d=/i/a/default_set/shirley.png" alt=""/></span>&nbsp;said:</p>
				<blockquote class="entry-content">
				
					<p>No edit ability. Bah. To amend my previous&nbsp;comment&#8230;</p>

<p>It&#8217;s taken some time to come to this point, but we&#8217;re now able to worry less about specific screen sizes (as we used to) and more about making our content work across a spectrum. It&#8217;s a little more work to set up, but the user experience is far better for&nbsp;it.</p>
				</blockquote>
		</li>
	

				<li id="comment-255" class="hentry staff">
			<p class="meta">
				<a rel="bookmark" href="../comments.1.html#comment-255"><time class="published" datetime="2014-11-07T21:56:15" pudate="pubdate">1 year ago</time></a>, 
				<span class="author vcard"><a class="url" href="http://aaron-gustafson.com"><b class="fn">Aaron Gustafson</b><img class="photo" src="http://www.gravatar.com/avatar/323311bb4cc5af1a4b2c5c26b4cfc5a3?s=48&d=/i/a/default_set/shirley.png" alt=""/></a></span>&nbsp;said:</p>
				<blockquote class="entry-content">
				
					<p><strong>@grantpalin:</strong> Thanks for sharing your journey. I agree that chasing screen sizes is a fools errand. Experience is and should remain a continuum. It’s okay for people to experience the same thing differently as long as the core use case is never&nbsp;lost.</p>
				</blockquote>
		</li>
	</ol>
			
	</div>
	
<section id="comment">
	<h1>Share Your Thoughts</h1>
			<p>Please <a href="../../../log-in/index.html%3Freturn=%252Freviews%252Freflecting-on-the-revamped-sherpa%252F.html" style="display: none">Log in</a> or <a href="../../../sign-up/index.html%3Freturn=%252Freviews%252Freflecting-on-the-revamped-sherpa%252F.html" style="display: none">Sign up</a> to share your thoughts.</p>
		</section>


			</section>
		

		
		
		
	   <ul id="pagination">
	     <li class="prev"><a href="../../getting-started-with-sass-part-3/index.html"><em>Previous Entry: </em>Getting Started with Sass, Part&nbsp;3</a></li>
	     <li class="next"><a href="../../facilitating-collaboration/index.html"><em>Next Entry: </em>Facilitating&nbsp;Collaboration</a></li>
	   </ul>

		
		<footer class="sidebar" role="complementary">
		
				
		<section id="author" class="sidebar-item vcard byline">
			<h1>Your Sherpa</h1>
	
	
		
		<h2><a class="fn url" href="../../../about/authors/aaron-gustafson/index.html">
			<img class="photo" src="../../../i/a/uploads/avatar_1.jpg" alt=""/>Aaron Gustafson</a></h2>
		<p>Aaron Gustafson is the Founder <span class="amp">&amp;</span> Tech Lead of Easy Designs, a content-focused web development consultancy, and the author of Adaptive Web&nbsp;Design.</p>
		<p class="more"><a href="../../../about/authors/aaron-gustafson/index.html">More about Aaron</a></p>
	
</section>

			
			
		
			
				

			<section id="share" class="sidebar-item entry-unrelated">

				<h1>Share</h1>

				<p id="twitter"><a href="https://twitter.com/intent/tweet?original_referer=http%3A%2F%2Fwebstandardssherpa.com%2Freviews%2Freflecting-on-the-revamped-sherpa%2Fcomments%2F&amp;source=tweetbutton&amp;text=Reflecting+on+the+Revamped+Sherpa+by+@AaronGustafson&amp;url=http%3A%2F%2Fwebstandardssherpa.com%2Freviews%2Freflecting-on-the-revamped-sherpa%2Fcomments%2F&amp;via=StandardsSherpa%20%23wssherpa%20%23sherpa34&amp;related=WaSP:Web%20Standards" title="Tweet"><img src="/i/button-twitter.png" alt=""/></a> <b class="hashtag"><em>Hashtag:</em> #sherpa34</b></p>
                <p id="facebook"><a href="http://www.facebook.com/sharer.php?u=http%3A%2F%2Fwebstandardssherpa.com%2Freviews%2Freflecting-on-the-revamped-sherpa%2Fcomments%2F" title="Share on Facebook"><img src="/i/button-facebook.png" alt=""/></a></p>
				<p id="linkedin"><a href="https://www.linkedin.com/cws/share?url=http%3A%2F%2Fwebstandardssherpa.com%2Freviews%2Freflecting-on-the-revamped-sherpa%2Fcomments%2F&amp;original_referer=http%3A%2F%2Fwebstandardssherpa.com%2Freviews%2Freflecting-on-the-revamped-sherpa%2Fcomments%2F" title="Share on LinkedIn"><img src="/i/button-linkedin.png" alt=""/></a></p>
				<p id="google_plus"><a href="https://plus.google.com/share?url=http%3A%2F%2Fwebstandardssherpa.com%2Freviews%2Freflecting-on-the-revamped-sherpa%2Fcomments%2F" title="Share on Google Plus"><img src="/i/button-googleplus.png" alt=""/></a></p>
			</section>
			
			
						<section id="standards-fact" class="sidebar-item entry-unrelated">

				<h1>Standards Fact</h1>


				<p>A 2006 study found&nbsp;that the majority of small and mid-sized businesses were not aware of the existance of legal requirements for website&nbsp;accessibility.</p>

			</section>

			
	<section id="submit-a-site" class="sidebar-item entry-unrelated">
		<p><a href="../../../submit-a-site/index.html"><img src="../../../i/feed-shirley-222x99.png" alt="Submit a site for Review" /></a></p>
	</section>



		</footer>
	
	  </div>
  		<form style="display: none" id="search-form" method="post" action="../../../index.html"  >
<div class='hiddenFields'>
<input type="hidden" name="ACT" value="6" />
<input type="hidden" name="XID" value="a3d3cf5afd9145ab657f1cd8b3a2d18245bcdca3" />
<input type="hidden" name="RES" value="10" />
<input type="hidden" name="meta" value="vJed+IEhaFn3W7jNVVY8C6VK4KKB0doGerxtt+3TXJkJkrK5M3OFhLNfv7UrH+uJhVYy/SM2Y8CEBzxS9ZAY+5Ry234MoWdF0KwpptDKKX/rJJg1NP4Y7SntDPwMKWd0mrV/+nbWgdpLXyGAXHtWDd/W8QMHWePL8qfhqCpJzaK4pU2LxFEhOj26ZDN4P+8d8hXffYqEVMiMRDrkUYAlZAa+r08a/igafmWKpfXqcmFAHWq/qsh+zoaTz9V6wiUJl2MMAdfHTEZ76nZbWvE5NUZpcvtxRexke8gSzhsFUK46dJJ8pJfmOvPccKB8bfwmBU4cgAZ668OleVhPUZRHiYhGfX21C2DodUFydLdhuEPR2Upj1jdw5RfdVF8nWXwA5G5T4DRd4xKMtKvVvr1BpJKZ37Gid+DBZjiqIcAhYCY=" />
<input type="hidden" name="site_id" value="1" />
</div>


		<p role="search">
			<label for="query">Looking for something?</label>
			<input type="search" name="keywords" id="query" value=""/>
			<button type="submit">Search</button>
		</p>
	</form>

    	<nav id="nav-account" style="display: none" role="navigation">
		<ul class="buttons">
	
			<li><a href="../../../sign-up/index.html" style="display: none">Sign up</a></li>
	
	
			<li><a href="../../../log-in/index.html" style="display: none">Log in</a></li>
	
		</ul>
	</nav>
  <footer role="contentinfo" id="page-footer">
	<div id="site-info">
			<div id="elevator-pitch" class="footer-item">

		<p>Web Standards Sherpa&rsquo;s experts provide helpful, pragmatic and up-to-date advice on best practices for web professionals everywhere.</p>
<ul class="more">
<li><a href="../../../about/index.html">More about us</a></li>
<li><a href="../../../contact/index.html" style="display: none">Contact us</a></li>
</ul>

	</div>
			<nav id="nav-complete" role="navigation">
		<section class="participate" style="display: none">
			<h1>Participate</h1>
			<ul>
				<li><a href="../../../submit-a-site/index.html">Submit a site</a></li>
				<li><a href="../../../submit-a-question/index.html">Submit a question</a></li>
				<li><a href="../../../sign-up/index.html" style="display: none">Sign up</a><a href="../../../log-in/index.html" style="display: none">Log in</a></li>
				
			</ul>
		</section>
		<section class="learn">
			<h1>Learn</h1>
			<ul>
				<li><mark><a href="../../index.html">Reviews</a></mark></li>
				<li><a href="../../../ask-the-sherpas/index.html">Ask Sherpas</a></li>
				<li><a href="../../../about/authors/index.html">Authors</a></li>
				<li><a href="../../../glossary/index.html">Glossary</a></li>
				
			</ul>
		</section>
	</nav>

			<section id="sponsors" class="footer-item">

		<h1>We thank our sponsors</h1>

				<ol class="partners">					<li>
											<a href="http://www.microsoft.com"><img src="../../../i/p/microsoft-mono.png" alt="Microsoft"/></a>
										</li>
				
									<li>
											<a href="http://mailchimp.com"><img src="../../../i/p/mc-mono.png" alt="MailChimp"/></a>
										</li>
				
									<li>
											<a href="http://developer.mozilla.org"><img src="../../../i/p/mozilla-mono.png" alt="Mozilla"/></a>
										</li>
				
									<li>
											<a href="http://mediatemple.net"><img src="../../../i/p/mt-mono.png" alt="Media Temple"/></a>
										</li>
				</ol>

	</section>
	</div>
	<div id="terms" class="source-org vcard">
		<p id="ownership"><a xmlns:dct="http://purl.org/dc/terms/" href="../../../index.html" property="dct:title" rel="cc:attributionURL">Web Standards Sherpa</a> is an outreach effort by the <a class="org fn url" xmlns:cc="http://creativecommons.org/ns#" href="http://webstandards.org" property="cc:attributionName">Web Standards Project (WaSP)<img src="../../../i/WaSP-logo-mono.png" alt="" /></a>.</p>
<!--		<p id="network">This site is a proud member of the <a rel="license" href="http://network.smashingmagazine.com/">Smashing Network<img src="/i/p/smashing-mono.png" alt="" /></a>.</p> -->
		<p id="license">The content of this site is licensed under <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons<img src="../../../i/license.png" alt="" /></a>.</p>
	</div>
	
  </footer>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
	<script>window.jQuery || document.write("<script src='../../../j/jquery.js'>\x3C/script>")</script>
	<script src="../../../j/main.js"></script>
	
					<script>(function(e,t){var n=t(jQuery),r=typeof define=="function"&&define.amd;r?define(e,["jquery"],n):(this.jQuery||this.$||this)[e]=n})("jail",function(e){function s(e,n){var r=!1;!n||(r=n.data("triggerElem")),!!r&&typeof r.on=="function"&&(r.on(e.event+"."+e.id,{options:e,images:n},u),t.on("resize."+e.id,{options:e,images:n},u))}function o(e){var t=0;if(e.length===0)return;for(;;){if(t===e.length)break;e[t].getAttribute("data-src")?t++:e.splice(t,1)}}function u(n){var i=n.data.images,u=n.data.options;i.data("poller",setTimeout(function(){r=e.extend({},i),o(r),e(r).each(function(){if(this===window)return;f(u,this,r)});if(a(r)){e(n.currentTarget).unbind(n.type+"."+u.id);return}if(u.event!=="scroll"){var l=/scroll/i.test(u.event)?i.data("triggerElem"):t;u.event="scroll",i.data("triggerElem",l),s(u,e(r))}},u.timeout))}function a(t){var n=!0;return e(t).each(function(){!e(this).attr("data-src")||(n=!1)}),n}function f(n,r,i){var s=e(r),o=/scroll/i.test(n.event)?i.data("triggerElem"):t,u=!0;n.loadHiddenImages||(u=h(s,o,n)&&s.is(":visible")),u&&l(o,s,n.offset)&&c(n,s)}function l(e,t,n){var r=e[0]===window,i=r?{top:0,left:0}:e.offset(),s=i.top+(r?e.scrollTop():0),o=i.left+(r?e.scrollLeft():0),u=o+e.width(),a=s+e.height(),f=t.offset(),l=t.width(),c=t.height();return s-n<=f.top+c&&a+n>=f.top&&o-n<=f.left+l&&u+n>=f.left}function c(t,n){var s=new Image;s.onload=function(){n.hide().attr("src",s.src),n.removeAttr("data-src"),t.effect?(t.speed?n[t.effect](t.speed):n[t.effect](),n.css("opacity",1),n.show()):n.show(),o(r),!t.callbackAfterEachImage||t.callbackAfterEachImage.call(this,n,t),a(r)&&!!t.callback&&!i&&(t.callback.call(e.jail,t),i=!0)},s.src=n.attr("data-src")}function h(n,i,o){var u=n.parent(),a=!0;while(u.length&&u.get(0).nodeName.toUpperCase()!=="BODY"){if(u.css("overflow")==="hidden"){if(!l(u,n,o.offset)){a=!1;break}}else if(u.css("overflow")==="scroll"&&!l(u,n,o.offset)){a=!1,e(r).data("triggerElem",u),o.event="scroll",s(o,e(r));break}if(u.css("visibility")==="hidden"||n.css("visibility")==="hidden"){a=!1;break}if(i!==t&&u===i)break;u=u.parent()}return a}var t=e(window),n={id:"jail",timeout:1,effect:!1,speed:400,triggerElement:null,offset:0,event:"load",callback:null,callbackAfterEachImage:null,placeholder:!1,loadHiddenImages:!1},r=[],i=!1;return e.jail=function(t,r){var i=t||{},s=e.extend({},n,r);e.jail.prototype.init(i,s),/^(load|scroll)/.test(s.event)?e.jail.prototype.later.call(i,s):e.jail.prototype.onEvent.call(i,s)},e.jail.prototype.init=function(n,r){n.data("triggerElem",r.triggerElement?e(r.triggerElement):t),!r.placeholder||n.each(function(){e(this).attr("src",r.placeholder)})},e.jail.prototype.onEvent=function(t){var n=this;t.triggerElement?s(t,n):n.on(t.event+"."+t.id,{options:t,images:n},function(t){var n=e(this),i=t.data.options,s=t.data.images;r=e.extend({},s),c(i,n),e(t.currentTarget).unbind(t.type+"."+i.id)})},e.jail.prototype.later=function(t){var n=this;setTimeout(function(){r=e.extend({},n),n.each(function(){f(t,this,n)}),t.event="scroll",s(t,n)},t.timeout)},e.fn.jail=function(t){return new e.jail(this,t),r=[],this},e.jail});

(function($){$("img.jail").jail({offset:100});}(jQuery));</script>
				
			<script src="../../../j/live-comment-preview.js" type="text/javascript"></script>
		
	

	<!-- Just to see if this works -->
	<!--[if lte IE 6]><script src="/j/ie6.js"></script><![endif]-->


			<script type="text/javascript">
			  var rpxJsHost = (("https:" == document.location.protocol) ? "https://" : "http://static.");
			  document.write(unescape("%3Cscript src='" + rpxJsHost + "rpxnow.com/js/lib/rpx.js' type='text/javascript'%3E%3C/script%3E"));
			</script>

			<script type="text/javascript">
				RPXNOW.overlay = true;
		  		RPXNOW.language_preference = "en";
			  	RPXNOW.init({appId: 'cdnifhbomckchfhfgbpl', xdReceiver: '/rpx_xdcomm.html'});
			</script>

	<div id="ClickTaleDiv" style="display: none;"></div>
	<script type="text/javascript">
		if ( document.location.protocol!='https:' )
		{
			$.getScript('http://s.clicktale.net/WRb6.js',function(){
				if ( typeof ClickTale=='function' )
				{ClickTale(16473,0.1,"www02");}
			});
		}
	</script>
</body>
</html>

